>While `reflected XSS` sends the input data to the back-end server through HTTP requests,

DOM XSS is completely processed on the client-side through JavaScript. DOM XSS occurs when JavaScript is used to change the page source through the `Document Object Model (DOM)`.

>in the URL is using a hashtag `#` for the item we added, which means that this is a client-side parameter that is completely processed on the browser.

>This indicates that the input is being processed at the client-side through JavaScript and never reaches the back-end; hence it is a `DOM-based XSS`.

## Source & Sink
- **Source**: Where user input comes from (e.g., `document.URL`).
    
- **Sink**: Where the input is executed dangerously (e.g., `innerHTML`).


JavaScript functions to write to DOM objects are:

- `document.write()`
- `DOM.innerHTML`
- `DOM.outerHTML`

Furthermore, some of the `jQuery` library functions that write to DOM objects are:

- `add()`
- `after()`
- `append()`


---

We can look at the source code of the `To-Do` web application, and check `script.js`, and we will see that the `Source` is being taken from the `task=` parameter:

```javascript
var pos = document.URL.indexOf("task=");
var task = document.URL.substring(pos + 5, document.URL.length);
```

```javascript
document.getElementById("todo").innerHTML = "<b>Next Task:</b> " + decodeURIComponent(task);
```

## DOM Attacks
`innerHTML` function does not allow the use of the `<script>`

use <> 
```html
<img src="" onerror=alert(window.origin)>
<img src="" onerror=alert(document.cookie)>
###### document.cookie
```

creates a new HTML image object, which has a `onerror` attribute that can execute JavaScript code when the image is not found. So, as we provided an empty image link (`""`), our code should always get executed without having to use `<script>` tags



